<!DOCTYPE html>
<html lang="en">
<head>
          <title>Writing to think 2: Write harder</title>
        <meta charset="utf-8" />


    <meta name="tags" content="security" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Writing to think 2: Write harder <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/personal-container-cloud-3.html" rel="bookmark"
         title="Permalink to personal container cloud 3">personal container cloud 3</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2017-03-19T00:39:00-04:00">
      Sun 19 March 2017
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/jaredj.html">jaredj</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I decided I needed to use DHCPv6 to get the IPv6 address for my
container, so that if dnsmasq served the address it could update its
DNS (one nice thing it does), and I could at least get to my container
using a DNS name inside my own network, if not from elsewhere.</p>
<p>I updated my router from OpenWRT 15.05.1 to LEDE 17.01.0 (which worked
flawlessly), and then found that the default dnsmasq doesn't have
DHCPv6 compiled in, and then found that the UCI config file
<cite>/etc/config/dhcp</cite> doesn't feed dnsmasq DHCPv6-related things because
it expects to use odhcpd for that instead. I could likely make my own
dnsmasq.conf. Meh.</p>
<p>But that's OK, because I found out that the CNI dhcp helper-thingy
wasn't doing squat about IPv6, and won't until <a class="reference external" href="https://github.com/containernetworking/cni/issues/245">this issue</a> is
fixedâ€”which has had months of inactivity, but renewed discussion this
week. So the only reason my container had an IPv6 address was because
I had SLAAC enabled on my router, and the IPv6 stack just did the
right thing without being told anything. That's great but if nothing
else knows that address, I can't get to whatever the container will
serve without looking manually for that address, which will be newly
random every time the container starts.</p>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>