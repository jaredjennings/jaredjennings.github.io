<!DOCTYPE html>
<html lang="en">
<head>
          <title>Writing to think 2: Write harder - Push generators and monads</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />





</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Writing to think 2: Write harder</a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/category/commentary.html">Commentary</a></li>
            <li><a href="/category/compliance-at-home.html">Compliance at home</a></li>
            <li><a href="/category/editors.html">Editors</a></li>
            <li><a href="/category/emacs.html">Emacs</a></li>
            <li><a href="/category/misc.html">misc</a></li>
            <li class="active"><a href="/category/projects.html">Projects</a></li>
            <li><a href="/category/security.html">Security</a></li>
            <li><a href="/category/uncategorized.html">Uncategorized</a></li>
            <li><a href="/category/untangling.html">Untangling</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/push-generators-and-monads.html" rel="bookmark"
         title="Permalink to Push generators and monads">Push generators and monads</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2015-06-01T03:19:00-04:00">
      Mon 01 June 2015
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/jaredj.html">jaredj</a>
    </address>
    <div class="category">
        Category: <a href="/category/projects.html">Projects</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I wrote <a class="reference external" href="https://github.com/jaredjennings/shaney/">Shaney</a>
(<a class="reference external" href="https://github.com/jaredjennings/shaney/blob/master/requirements.txt">history</a>)
to parse important elements out of hundreds of text files (Puppet source
code and LaTeX), and produce interesting content out of them, writing it
into dozens of other text files (LaTeX). Now I'm trying to do much the
same thing for
<a class="reference external" href="https://gitlab.com/sagemincer/snailcrusader">snailcrusader</a>, but not
reading only Puppet source files, and not creating LaTeX as output.
Shaney started out as a set of classes whose instances would call each
other's methods, and turned into a set of push generators, thanks to
some <a class="reference external" href="http://www.dabeaz.com/coroutines/">Beazley reading</a>, becoming
several times faster in the process. It's small code and fast, but not
easy to read and write, so I wanted to make the syntax a little nicer.
But in attempting to do so, I've been bothered by the similarities
between push generators and monads.</p>
<p>So I went back to my favorite document on monads, <a class="reference external" href="http://blog.sigfpe.com/2006/08/you-could-have-invented-monads-and.html">You Could Have
Invented
Monads</a>
from Dan Piponi. There are many monad implementations for Python, but I
doubt they are fast enough, because they are using functions and not
generators. YCHIM doesn't start from what exists in Haskell, but from
the problems that could have incited you to invent monads. So it makes
it easier to see sort of which half I've implemented. Now let's see if
all that untangling and concept-naming can help me generalize and
sweeten what I've got, enhance shaney, and create snailcrusader. You can
follow the effort at <a class="reference external" href="https://gitlab.com/jaredjennings/python-textpush">https://gitlab.com/jaredjennings/python-textpush</a>.</p>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>