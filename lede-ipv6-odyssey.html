<!DOCTYPE html>
<html lang="en">
<head>
          <title>Writing to think 2: Write harder</title>
        <meta charset="utf-8" />



</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Writing to think 2: Write harder <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/lede-ipv6-odyssey.html" rel="bookmark"
         title="Permalink to LEDE IPv6 odyssey">LEDE IPv6 odyssey</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2017-03-31T00:05:00-04:00">
      Fri 31 March 2017
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/jaredj.html">jaredj</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>It seems after all that my LEDE upgrade didn't work flawlessly. I
suddenly lost all of my IPv6 addresses (except the link-local ones,
natch). I've just quelled this rebellion by disabling odhcpd and using
dnsmasq-full to serve stateless DHCPv6 (<a class="reference external" href="https://code.google.com/p/android/issues/detail?id=32621">Android does not support
stateful DHCPv6</a>).</p>
<p>Along the way I discovered dnsmasq's support for adding IPs looked up
from names to an ipset. You normally can't make a firewall rule that
applies to a given DNS domain rather than a subnet, but this lets you
do just that. For example, it could let me block attempts to get to
Netflix over IPv6, which is needful because if I succeed in talking to
Netflix over IPv6, rather than the video I paid for they provide only
a message accusing me of dodging region restrictions.</p>
<p>But now that I have a lead on how to fix it, it appears not to be
broken any longer...?</p>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>