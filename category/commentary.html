<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Writing to think 2: Write harder - Commentary</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Writing to think 2: Write harder </a></h1>
                <nav><ul>
                    <li class="active"><a href="/category/commentary.html">Commentary</a></li>
                    <li><a href="/category/compliance-at-home.html">Compliance at home</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/projects.html">Projects</a></li>
                    <li><a href="/category/security.html">Security</a></li>
                    <li><a href="/category/uncategorized.html">Uncategorized</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/router-bellyache.html">router bellyache</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-04-21T23:22:00-04:00">
                Published: Fri 21 April 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/jaredj.html">jaredj</a>
        </address>
<p>In <a href="/category/commentary.html">Commentary</a>.</p>
<p>tags: <a href="/tag/somebodyoughta.html">somebodyoughta</a> </p>
</footer><!-- /.post-info --><p>I have a router that runs LEDE. It has 115 firewall rules. I made
these by typing stanzas of about eight lines each into a file
<cite>/etc/config/firewall</cite>. Not great, not bad. I've already <a class="reference external" href="/netconf-and-the-curse-of-consensus.html">held forth</a> on this some. But now the
path of least resistance for deploying web apps on my own
infrastructure seems to be to create jails on a FreeBSD system
(statically setting their IPv6 addresses), (security hardening
handwaving), and add a firewall rule to allow access to a jail from
some zone (e.g. my LAN, the Internet). This is now an orchestratey
kind of task. And in between my earlier rant and now, I've used
Ansible some.</p>
<p>There's an Ansible role to set the firewall configuration on an
OpenWRT router—but it only sets the entire configuration. To do this
orchestratey task, I would need to use <tt class="docutils literal">uci</tt> to make the edit. But
<tt class="docutils literal">uci</tt>, when you are setting something like a firewall rule, lets you
list all the things, add or remove a thing, and reorder things, but it
doesn't help you order them, for example by saying &quot;this one should go
after the one that has such-and-such set to so-and-so.&quot; Perhaps
NETCONF will save everything? I've been reading that Ansible is
ramping up support for it. But it's awful!</p>
<p>In the meantime, I've been using BSD more, and I sort of want it on my
router, if it's so much better designed or has a much nicer packet
filter or something. But BSD on routers seems to be sort of an x86
thing, like you get a desktop computer, put multiple network cards in
it, and voila; or you get a PCEngines board. It seems NetBSD won't run
on my MIPS-based router (specifically) while FreeBSD will (!?), and
FreeBSD for my router has nothing like the customization OpenWRT/LEDE
has, where entire subsystems of a usual desktop/server OS have been
removed and replaced with smaller, more purpose-built ones (glibc,
systemd, dbus, NetworkManager, firewalld, ISC dhcpd, etc.). It looks
like NetBSD has a flash-specific filesystem (CHFS) for a while now,
and a way to statically link a whole bunch of binaries into a single
file and make the different subsumed commands runnable using
hardlinks. I have no idea of the relative merits of NPF vs. any of
FreeBSD's <cite>three</cite> packet filtering systems vs. iptables.</p>
<p>Somebodyoughta make a router OS out of a BSD, and stick 9P support in
it, and use Rust or Go or something for all the new hotness that gets
added.</p>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/proquints-bubblebabble.html" rel="bookmark"
                           title="Permalink to proquints vs. bubblebabble">proquints vs. bubblebabble</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-04-21T22:50:00-04:00">
                Published: Fri 21 April 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/jaredj.html">jaredj</a>
        </address>
<p>In <a href="/category/commentary.html">Commentary</a>.</p>

</footer><!-- /.post-info -->                <p>The <a class="reference external" href="http://wiki.yak.net/589">Bubble Babble encoding</a>, due to Antti
Huima, was invented in 2000. It has six vowels and seventeen
consonants, and checksums built in so you can tell whether a purported
Bubble Babble string is valid or not. A Bubble Babble string always
begins and ends with 'x'. This encoding is …</p>
                <a class="readmore" href="/proquints-bubblebabble.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/netconf-and-the-curse-of-consensus.html" rel="bookmark"
                           title="Permalink to NETCONF and the curse of consensus">NETCONF and the curse of consensus</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-05-01T02:07:00-04:00">
                Published: Sun 01 May 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/jaredj.html">jaredj</a>
        </address>
<p>In <a href="/category/commentary.html">Commentary</a>.</p>
<p>tags: <a href="/tag/security.html">security</a> </p>
</footer><!-- /.post-info -->                <p>So my router runs OpenWRT, and its configuration is complicated enough
that I can't easily capture it all in one place, nor set up a new blank
router to do its job if need be. There are packages to install, UCI
settings to set, configuration files to put in place …</p>
                <a class="readmore" href="/netconf-and-the-curse-of-consensus.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/winning-free-software.html" rel="bookmark"
                           title="Permalink to Winning Free software">Winning Free software</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-09-19T03:01:00-04:00">
                Published: Sat 19 September 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/jaredj.html">jaredj</a>
        </address>
<p>In <a href="/category/commentary.html">Commentary</a>.</p>

</footer><!-- /.post-info -->                <p>I've worried a lot lately rather than coding. I haven't got that much
time to do either of them, so it's important to make sure that the
coding I do helps people or has lasting merit. Or at least it seems like
that.</p>
<p>This means I haven't got time to …</p>
                <a class="readmore" href="/winning-free-software.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/look-on-my-works-ye-mighty-and-despair.html" rel="bookmark"
                           title="Permalink to Look on my works, ye mighty, and despair">Look on my works, ye mighty, and despair</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-06-01T20:20:00-04:00">
                Published: Sun 01 June 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/jaredj.html">jaredj</a>
        </address>
<p>In <a href="/category/commentary.html">Commentary</a>.</p>

</footer><!-- /.post-info -->                <p>I've been learning about <a class="reference external" href="http://linkeddata.org/">Linked Data</a>
lately, along with other related concepts like RDF, RDFS, OWL, and
SPARQL, and having a lot of fun with it. I think it's quite promising,
which is a silly statement to make because it's already doing a lot of
work for many people: it's …</p>
                <a class="readmore" href="/look-on-my-works-ye-mighty-and-despair.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>