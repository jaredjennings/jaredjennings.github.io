<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Somebodyoughta: Plan9 + routing</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Writing to think 2: Write harder </a></h1>
                <nav><ul>
                    <li><a href="/category/commentary.html">Commentary</a></li>
                    <li><a href="/category/compliance-at-home.html">Compliance at home</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/projects.html">Projects</a></li>
                    <li><a href="/category/security.html">Security</a></li>
                    <li class="active"><a href="/category/uncategorized.html">Uncategorized</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/somebodyoughta-plan9-routing.html" rel="bookmark"
           title="Permalink to Somebodyoughta: Plan9 + routing">Somebodyoughta: Plan9 + routing</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-01-26T06:09:00-05:00">
                Published: Mon 26 January 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/jaredj.html">jaredj</a>
        </address>
<p>In <a href="/category/uncategorized.html">Uncategorized</a>.</p>
<p>tags: <a href="/tag/somebodyoughta.html">somebodyoughta</a> </p>
</footer><!-- /.post-info -->      <p>I've worked a lot with OpenWRT lately, making it do things I've never
made it do before, like provide IPv6 prefixes to downstream routers,
consume IPv6 prefixes from upstream routers, block all traffic by
default, and provide real, not-local-only IPv6 addresses to a management
network without promising to route traffic from that network anywhere
else. It's comforting to use traditional Linux tools like <tt class="docutils literal">vi</tt>, <tt class="docutils literal">ip</tt>
and <tt class="docutils literal">less</tt> to manage the router, but I feel nervous because none of my
changes were tracked, so I have no way to know when I made a change or
why. While <a class="reference external" href="http://wiki.openwrt.org/doc/techref/uci">UCI</a> promises to
provide the seeds of scriptable remote configurability, not all the
changes I made were to files that UCI controls. And busybox lacks a few
things I use all the time, like searching for a string from <tt class="docutils literal">less</tt>, or
macros in <tt class="docutils literal">vi</tt>. Whatever UCI controls, it does well, but the rest is
shell scripts, which bind other programs together easily enough, but are
difficult to edit programmatically.</p>
<p>So I was thinking as long as you're going to have a limited shell, why
not make it <tt class="docutils literal">rc</tt> from Plan 9, and <tt class="docutils literal">cpu</tt> in instead of <tt class="docutils literal">ssh</tt>. That
way you get scrolly windows for free when you use <tt class="docutils literal">drawterm</tt> or a Plan
9 terminal window. The problem with this is that <tt class="docutils literal">rc</tt> isn't nearly so
nice if you can't get to everything as a file: any part of the design of
Plan 9 requires the rest. But the more Plan 9 design you pull in, the
more you discard from established codebases like <tt class="docutils literal">ntpd</tt>, <tt class="docutils literal">iproute</tt>,
and, in the limit, the Linux kernel.</p>
<p>Really what I want is a simpler, more orthogonal interface for
configuration of the same proven codebases that millions of others use
and hundreds of others make secure. (Rewind a few years, remix, and I
could have been one of those folks harping about using XML for every
config file. Oops.) UCI was a big effort, its code is nearly as small as
libixp, and it's working software and not just an idea. I should build
on it. Wellâ€”somebodyoughta, anyway.</p>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>