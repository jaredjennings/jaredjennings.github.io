<!DOCTYPE html>
<html lang="en">
<head>
          <title>Writing to think 2: Write harder - Somebodyoughta: Plan9 + routing</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />




    <meta name="tags" content="somebodyoughta" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Writing to think 2: Write harder</a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/category/commentary.html">Commentary</a></li>
            <li><a href="/category/compliance-at-home.html">Compliance at home</a></li>
            <li><a href="/category/editors.html">Editors</a></li>
            <li><a href="/category/emacs.html">Emacs</a></li>
            <li><a href="/category/misc.html">misc</a></li>
            <li><a href="/category/projects.html">Projects</a></li>
            <li><a href="/category/security.html">Security</a></li>
            <li class="active"><a href="/category/uncategorized.html">Uncategorized</a></li>
            <li><a href="/category/untangling.html">Untangling</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/somebodyoughta-plan9-routing.html" rel="bookmark"
         title="Permalink to Somebodyoughta: Plan9 + routing">Somebodyoughta: Plan9 + routing</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2015-01-26T06:09:00-05:00">
      Mon 26 January 2015
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/jaredj.html">jaredj</a>
    </address>
    <div class="category">
        Category: <a href="/category/uncategorized.html">Uncategorized</a>
    </div>
    <div class="tags">
        Tags:
            <a href="/tag/somebodyoughta.html">somebodyoughta</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I've worked a lot with OpenWRT lately, making it do things I've never
made it do before, like provide IPv6 prefixes to downstream routers,
consume IPv6 prefixes from upstream routers, block all traffic by
default, and provide real, not-local-only IPv6 addresses to a management
network without promising to route traffic from that network anywhere
else. It's comforting to use traditional Linux tools like <tt class="docutils literal">vi</tt>, <tt class="docutils literal">ip</tt>
and <tt class="docutils literal">less</tt> to manage the router, but I feel nervous because none of my
changes were tracked, so I have no way to know when I made a change or
why. While <a class="reference external" href="http://wiki.openwrt.org/doc/techref/uci">UCI</a> promises to
provide the seeds of scriptable remote configurability, not all the
changes I made were to files that UCI controls. And busybox lacks a few
things I use all the time, like searching for a string from <tt class="docutils literal">less</tt>, or
macros in <tt class="docutils literal">vi</tt>. Whatever UCI controls, it does well, but the rest is
shell scripts, which bind other programs together easily enough, but are
difficult to edit programmatically.</p>
<p>So I was thinking as long as you're going to have a limited shell, why
not make it <tt class="docutils literal">rc</tt> from Plan 9, and <tt class="docutils literal">cpu</tt> in instead of <tt class="docutils literal">ssh</tt>. That
way you get scrolly windows for free when you use <tt class="docutils literal">drawterm</tt> or a Plan
9 terminal window. The problem with this is that <tt class="docutils literal">rc</tt> isn't nearly so
nice if you can't get to everything as a file: any part of the design of
Plan 9 requires the rest. But the more Plan 9 design you pull in, the
more you discard from established codebases like <tt class="docutils literal">ntpd</tt>, <tt class="docutils literal">iproute</tt>,
and, in the limit, the Linux kernel.</p>
<p>Really what I want is a simpler, more orthogonal interface for
configuration of the same proven codebases that millions of others use
and hundreds of others make secure. (Rewind a few years, remix, and I
could have been one of those folks harping about using XML for every
config file. Oops.) UCI was a big effort, its code is nearly as small as
libixp, and it's working software and not just an idea. I should build
on it. Wellâ€”somebodyoughta, anyway.</p>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>